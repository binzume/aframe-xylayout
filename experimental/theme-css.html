<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>UI Components examples</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="../aframe-xylayout.js"></script>
    <script src="../aframe-xywidget.js?"></script>
    <script>
        // this is experimental impl.
        let theme = XYTheme.defaultTheme;
        XYTheme.get = (el) => {
            let t = Object.assign({}, theme);
            let style = getComputedStyle(el);
            if (el.tagName == 'A-XYBUTTON') {
                t.button = Object.assign(t.button, {
                    labelColor: style.color,
                    color: style.backgroundColor,
                });
            } else if (el.tagName == 'A-XYWINDOW') {
                t.window = Object.assign(t.window, {
                    background: {color: style.backgroundColor},
                });
                t.button = Object.assign(t.button, {
                    labelColor: style.color,
                });
            }
            return t;
        };
    </script>
    <style>
        a-xybutton {
            color: red;
            background-color: #aaa;
        }
        a-xywindow {
            color: blue;
            background-color: white;
        }
    </style>
</head>

<body style="background-color: black; color:white;">
    <a-scene>
        <a-entity cursor="rayOrigin: mouse; fuse:false" raycaster="objects:.collidable;far:5500"></a-entity>

        <a-assets>
            <a-mixin id="box_animation"
                animation__mouseenter="startEvents: mouseenter; property: rotation; from:0 0 0; to: 0 360 0; dur: 500">
            </a-mixin>
        </a-assets>

        <a-entity id="cameraRig" wasd-controls>
            <a-camera position="0 1.5 0" look-controls="enabled:false"></a-camera>
            <a-entity laser-controls="hand: right" raycaster="far:Infinity;objects:.collidable"></a-entity>
            <a-entity laser-controls="hand: left" raycaster="far:Infinity;objects:.collidable"></a-entity>
        </a-entity>

        <a-xywindow position="0 0 -12" width="6" height="5" title="UI Components" xywindow="background:true">
            <a-xycontainer direction="column" spacing="0.1" padding="0.2">
                <a-xylabel value="ABC123漢字" width="2" height="0.5"></a-xylabel>
                <a-xybutton label="Button"></a-xybutton>
                <a-xyselect values="abc,123,Foo,Bar" select="1"></a-xyselect>
                <a-xytoggle value="true"></a-xytoggle>
                <a-xyrange width="4" height="0.5" value="20"></a-xyrange>
                <a-xycontainer direction="row" spacing="0.2">
                    <a-box color="blue" class="collidable" mixin="box_animation"></a-box>
                    <a-box color="red" class="collidable" mixin="box_animation"></a-box>
                    <a-box color="green" class="collidable" mixin="box_animation"></a-box>
                </a-xycontainer>
            </a-xycontainer>

        </a-xywindow>


        <a-xywindow position="11 0 -12" width="10" height="5" title="Scroll" rotation="0 -10 0">
            <a-xyscroll width="10" height="5">
                <a-xycontainer direction="column" width="10" align-items="center">
                    <a-box color="blue" class="collidable" mixin="box_animation"></a-box>
                    <a-box color="red" class="collidable" mixin="box_animation"></a-box>
                    <a-box color="magenta" class="collidable" mixin="box_animation"></a-box>
                    <a-sphere xyrect="width:4;height:4" radius="2" color="green" class="collidable"></a-sphere>
                    <a-box color="cyan" class="collidable" mixin="box_animation"></a-box>
                    <a-box color="yellow" class="collidable" mixin="box_animation"></a-box>
                    <a-box color="white" class="collidable" mixin="box_animation"></a-box>
                </a-xycontainer>
            </a-xyscroll>
        </a-xywindow>

        <a-xywindow position="-9 0 -12" width="6" height="5" title="Boxes" xywindow="closable:false"
            xy-drag-rotation="draggable:a-box">
            <a-xycontainer width="6" height="5" direction="row" justify-items="space-between" wrap="wrap" spacing="0.1">
                <a-box color="blue" class="collidable" mixin="box_animation"></a-box>
                <a-box color="red" class="collidable" mixin="box_animation"></a-box>
                <a-box color="green" class="collidable" mixin="box_animation"></a-box>
                <a-box color="cyan" class="collidable" mixin="box_animation"></a-box>
                <a-box color="yellow" class="collidable" mixin="box_animation"></a-box>

                <a-box color="red" class="collidable" mixin="box_animation"></a-box>
                <a-box color="cyan" class="collidable" mixin="box_animation"></a-box>
                <a-box color="blue" class="collidable" mixin="box_animation"></a-box>
                <a-box color="yellow" class="collidable" mixin="box_animation"></a-box>
                <a-box color="green" class="collidable" mixin="box_animation"></a-box>

                <a-box color="cyan" class="collidable" mixin="box_animation"></a-box>
                <a-box color="yellow" class="collidable" mixin="box_animation"></a-box>
                <a-box color="blue" class="collidable" mixin="box_animation"></a-box>
                <a-box color="red" class="collidable" mixin="box_animation"></a-box>
                <a-box color="blue" class="collidable" mixin="box_animation"></a-box>

                <a-box color="yellow" class="collidable" mixin="box_animation"></a-box>
                <a-box color="green" class="collidable" mixin="box_animation"></a-box>
                <a-box color="red" class="collidable" mixin="box_animation"></a-box>
                <a-box color="cyan" class="collidable" mixin="box_animation"></a-box>
                <a-box color="blue" class="collidable" mixin="box_animation"></a-box>
            </a-xycontainer>
        </a-xywindow>

        <!-- grabbables -->
        <a-box width="0.3" height="0.3" depth="0.3" position="-2 1 1" color="yellow" xy-drag-control></a-box>
        <a-box width="0.3" height="0.3" depth="0.3" position="-1 1 1" color="green" xy-drag-control></a-box>
        <a-box width="0.3" height="0.3" depth="0.3" position="0 1 1" color="blue" xy-drag-control></a-box>
        <a-box width="0.3" height="0.3" depth="0.3" position="1 1 1" color="magenta" xy-drag-control></a-box>
        <a-box width="0.3" height="0.3" depth="0.3" position="2 1 1" color="red" xy-drag-control></a-box>

    </a-scene>
</body>

</html>